<div class="animated fadeIn">
  <div class="row">
    <div class="col-xl-12">
      <div class="card">
        <div class="card-header">
          Список договоров
          <button type="button" *ngIf="!readOnly" class="btn btn-sm btn-info float-xs-right" (click)="createContract()"> <i class="fa fa-plus-circle"></i>&nbsp;
            Создать договор </button>
        </div>
        <div class="card-block">
          <grid #grid [dataSource]="dataSource" [tableStyleClass]="'table table-condensed table-striped table-hover  table-bordered'">
    
            <grid-column header="Подрядчик" field="contractorName"></grid-column>
            <grid-column header="№ договора">
              <template let-contract="rowData" grid-template="body">
                <a [routerLink]="['Contract', {id:contract['id']}]">{{ getContractNumber(contract)}}</a>
              </template>
            </grid-column>
    
            <grid-column header="Дата заключения">
              <template let-contract="rowData" grid-template="body">
                {{ contract['startDate'] | date:'dd.MM.yyyy' }}
              </template>
            </grid-column>
    
    
            <grid-column header="Дата завершения">
              <template let-contract="rowData" grid-template="body">
                {{ contract['finishDate'] | date:'dd.MM.yyyy' }}
              </template>
            </grid-column>
    
            <grid-column header="Название" field="name"></grid-column>
            <grid-column header="Объект" field="constructionObjectName"></grid-column>
    
            <grid-column header="Стоимость">
              <template let-contract="rowData" grid-template="body">
                <div class="text-md-right text-nowrap" *ngFor="let amount of contract['amounts']">
                  {{ amount['value'] | cmFormatMoney | cmFormatCurrency:amount['currencySysName'] }}
                </div>
              </template>
            </grid-column>
          </grid>
        
        </div>
      </div>
    </div>
  </div>
</div>